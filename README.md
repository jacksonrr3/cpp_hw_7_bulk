# cpp_hw_7_bulk
bulk
Условие
Разработать программу для пакетной обработки команд. Команды считываются построчно из стандартного
ввода и обрабатываются блоками по N команд. Одна команда - одна строка, значение роли не играет. Если
данные закончились - блок завершается принудительно.
Параметр N передается как единственный параметр командной строки в виде целого числа. Для N=3 и ввода
cmd1
cmd2
cmd3
cmd4
cmd5
результат ожидается:
input output
cmd1
cmd2
cmd3 bulk: cmd1, cmd2, cmd3
cmd4
cmd5
<EOF> bulk: cmd4, cmd5
Размер блока можно изменить динамически, если перед началом блока и сразу после дать команды { и }
соответственно. Предыдущий пакет при этом принудительно завершается.
input output
cmd1
cmd2 bulk: cmd1, cmd2
{
cmd3
cmd4
cmd5
cmd6
cmd7
} bulk: cmd3, cmd4, cmd5, cmd6, cmd7
Такие блоки могут быть включены друг в друга при этом вложенность блоков игнорируются.
input output
{
cmd1
cmd2
{
cmd3
cmd4
}
cmd5
cmd6
} bulk: cmd1, cmd2, cmd3, cmd4, cmd5, cmd6
Если данные закончились внутри блока - блоки игнорируется целиком.
input output
cmd1
1
input output
cmd2
cmd3 bulk: cmd1, cmd2, cmd3
{
cmd4
cmd5
cmd6
cmd7
<EOF>
Вместе с выводом в консоль блоки должны сохранятся в отдельные файлы с именами bulk1517223860.log,
где 1517223860 - это время получения первой команды из блока в формате unixtime. Данные в файле лежат
построчно, ровно в том виде, в котором они были получены из стандартного ввода.
Для первого примера должны сформироваться два файла с содежимым
cmd1
cmd2
cmd3
и
cmd4
cmd5
соответственно.
Самоконтроль
• использование enum class (если нужно)
• пустая строка обрабатывается наравне со всем другими
• имя формируется по времени первой команды (не последней и не пакета)
Результат
• пакет bulk содержащий исполняемый файл bulk опубликован на Bintray
• отправлена на проверку ссылка на страницу решения (github)
• отправлена на проверку ссылка на страницу документации (github)
Проверка
Задание считается выполненным успешно, если после установки пакета и запуска с тестовыми данными
вывод соответствует описанию. Данные подаются на стандартный вход построчно с паузой в 1 секунду для
визуального контроля.
Оценка
максимум 15
баллы за что
7 Проходит проверка
3 Вывод в файл и консоль независимы и реализованы паттерном “Наблюдатель”.
2 Нет сырых указателей
2 Сгенерирована диаграмма классов
1 Признак завершения данных только <EOF>
Быстрый тест
seq 0 9 | bulk 3
bulk: 0, 1, 2
bulk: 3, 4, 5
2
bulk: 6, 7, 8
bulk: 9
При этом должно получиться четыре файла bulkXXXXXXXXXX.log с содержимым
0
1
2
3
4
5
6
7
8
9
3
